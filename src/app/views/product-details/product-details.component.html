<div class="main-container profile-container">
  <div class="breadcrum">
    <div class="container">
      <div class="bread-inner">
        <p>
          <a href="javascript:void(0)" routerLink="/home">Home</a> /
          <a
            href="javascript:void(0)"
            [routerLink]="['/' + routerUrl[1] + '/' + routerUrl[2]]"
            >{{
              routerUrl[1].includes("surface")
                ? "Surface Agri Pumps"
                : "Multi Purpose Pumps"
            }} </a
          ><span>/</span>
          <a href="javascript:void(0)" [routerLink]="['../../']"
            >{{
              routerUrl[3].includes("bareShaftPump")
                ? "Bare Shaft Pumps"
                : "Close Coupled Pumps"
            }} </a
          ><span>/</span>{{ productId }}
        </p>
      </div>
    </div>
  </div>

  <div class="product-section">
    <div class="container">
      <div class="product-section-inner">
        <div class="product-slider">
          <!-- main slider carousel -->
          <div id="slider">
            <div class="warranty-section">
              <img
                style="border-radius: 15px"
                src="assets/images/card-images/goldenfeaturesstrip.png"
              />
            </div>

            <div id="carousel-bounding-box">
              <div id="myCarousel" class="carousel slide">
                <div class="carousel-inner">
                  <div
                    class="item"
                    [ngClass]="i == carouselIndexVal ? 'active' : ''"
                    *ngFor="let eachImg of productCarousalImages; let i = index"
                    [attr.data-slide-to]="i"
                  >
                    <div class="carouselText-wrapper">
                      <p class="carouselText">{{ eachImg?.heading }}</p>
                    </div>
                    <img
                      [src]="eachImg?.imgSrc"
                      [ngStyle]="{ height: '220px' }"
                      class="img-responsive"
                      alt="{{ eachImg?.alt }}"
                      (click)="open(i)"
                    />
                  </div>
                </div>
                <!-- <main slider carousel nav controls> -->
                <a
                  class="carousel-control left"
                  href="#myCarousel"
                  data-slide="prev"
                  >‹</a
                >

                <a
                  class="carousel-control right"
                  href="#myCarousel"
                  data-slide="next"
                  >›</a
                >
              </div>
            </div>
          </div>

          <!-- </main slider carousel> -->

          <!-- thumb navigation carousel -->
          <div class="" id="slider-thumbs">
            <!-- thumb navigation carousel items -->
            <ul class="list-inline">
              <li
                *ngFor="
                  let eachThumbImg of thumbnailImages;
                  let imgCount = index
                "
              >
                <h6 style="text-align: center; font-size: 10px">
                  {{ eachThumbImg?.name }}
                </h6>
                <a
                  id="'carousel-selector-'+imgCount"
                  class="selected"
                  style="cursor: pointer"
                  (click)="changeCarousalImg(imgCount)"
                >
                  <img
                    [src]="eachThumbImg?.imgSrc"
                    alt="{{ eachThumbImg?.alt }}"
                    class="img-responsive"
                    [ngClass]="
                      eachThumbImg?.imgSrc === selectedProductImg
                        ? 'activeImg'
                        : 'inactiveImg'
                    "
                  />
                  <!-- <h5>image</h5> -->
                </a>
              </li>
            </ul>
          </div>

          <div class="account-tab"></div>
        </div>

        <div class="product-description">
          <h2>{{ selectedProduct?.details?.description }}</h2>
          <ng-container *ngIf="!toggleMotorOption">
            <div class="product-row">
              <div
                *ngIf="toggleDropdown"
                class="prod-title"
                style="width: 100%"
              >
                Drive Type:
              </div>

              <div class="prod-specification" *ngIf="toggleDropdown">
                <select
                  class="custom-dropdown btn"
                  (change)="toggleDriveType($event.target.value)"
                  [(ngModel)]="driveType"
                >
                  <option value="{{driveType != '' ? driveType : ''}}" selected disabled>{{driveType != '' ? driveType : 'Drive Type'}}</option>
                  <option
                    *ngFor="let eachProduct of toggleSelectorDropdown"
                    value="{{ eachProduct }}"
                  >
                    {{ eachProduct }}
                  </option>
                </select>
                <i class="fas fa-hand-point-left"></i>
              </div>
            </div>
          </ng-container>
          <div class="productTab">
            <ng-container *ngIf="toggleDetails">
              <p>
                <span *ngIf="driveDesc; else selectedDesc"
                  >Drive Description: {{ driveDesc }}
                </span>
              </p>
              <ng-template #selectedDesc>
                <span>Drive Description: NA</span>
              </ng-template>
            </ng-container>
            <ng-container
              *ngIf="tableDetails.length > 0 && toggleOption; else flowRate"
            >
              <p>
                <span
                  *ngIf="tableDetails[0] && tableDetails[1]; else flowCapacity"
                  >Flow Rate: {{ tableDetails[0] }} LPS /
                  {{ tableDetails[1] }} GPH</span
                >
              </p>
              <ng-template #flowCapacity>
                <span>Flow Rate: NA</span>
              </ng-template>
            </ng-container>
            <ng-template #flowRate>
              <p *ngIf="selectedProduct?.details?.flow; else flow">
                Flow Rate: {{ selectedProduct?.details?.flow }} LPS
                <span *ngIf="selectedProduct?.details?.capacity"
                  >/ {{ selectedProduct?.details?.capacity }}</span
                >
              </p>
              <ng-template #flow>
                <span>Flow Rate: NA</span>
              </ng-template>
            </ng-template>

            <ng-container
              *ngIf="tableDetails.length > 0 && toggleOption; else flowHead"
            >
              <p>
                <span *ngIf="tableIndex; else Head"
                  >Head: {{ tableIndex }} m
                  <span *ngIf="tableDetails.length > 3"
                    >/ {{ tableDetails[3] }}</span
                  >
                </span>
                <ng-template #Head>
                  <span>Head: NA</span>
                </ng-template>
              </p>
            </ng-container>
            <ng-template #flowHead>
              <p>
                <span *ngIf="selectedProduct?.details?.head; else selectedHead"
                  >Head: {{ selectedProduct?.details?.head }} m</span
                >
              </p>
              <ng-template #selectedHead>
                <span>Head: NA</span>
              </ng-template>
            </ng-template>

            <p
              *ngIf="
                pumpSpeed.length || selectedProduct?.details?.speed;
                else speed
              "
            >
              <span
                >Speed:
                {{
                  pumpSpeed.length
                    ? pumpSpeed[0]
                    : selectedProduct?.details?.speed
                }}
                RPM ({{
                  pumpSpeed.length
                    ? pumpSpeed[1]
                    : selectedProduct?.details?.pole + " Pole"
                }})
              </span>
            </p>
            <ng-template #speed>
              <p>
                <span>Speed: NA</span>
              </p>
            </ng-template>

            <ng-container *ngIf="tableDetails.length > 0 && toggleOption">
              <p *ngIf="tableDetails[2]; else absPower">
                <span>Absorbed Power: {{ tableDetails[2] }} KW</span>
              </p>
              <ng-template #absPower>
                <p>
                  <span>Absorbed Power: NA</span>
                </p>
              </ng-template>
            </ng-container>

            <p *ngIf="selectedProduct?.details?.whp_moc !== null; else moc">
              <span>Housing Part: {{ selectedProduct?.details?.whp_moc }}</span>
            </p>
            <ng-template #moc>
              <p>
                <span>Housing Part: NA</span>
              </p>
            </ng-template>

            <p *ngIf="selectedProduct?.details?.sealing; else sealing">
              <span>Sealing: {{ selectedProduct?.details?.sealing }}</span>
            </p>
            <ng-template #sealing>
              <span>Sealing: NA</span>
            </ng-template>
            <ng-container *ngIf="toggleDetails">
              <p *ngIf="selectedProduct?.details?.rotor !== null; else rotor">
                <span>Rotor: {{ selectedProduct?.details?.rotor }}</span>
              </p>
              <ng-template #rotor>
                <p>
                  <span>Rotor: NA</span>
                </p>
              </ng-template>
              <p>
                <span
                  *ngIf="selectedProduct?.details?.stator !== null; else stator"
                  >Stator: {{ selectedProduct?.details?.stator }}</span
                >
                <ng-template #stator>
                  <span>Stator: NA</span>
                </ng-template>
              </p>
              <p>
                <span *ngIf="selectedProduct?.details?.inlet; else inlet"
                  >Inlet: {{ selectedProduct?.details?.inlet }};</span
                >&nbsp;&nbsp;
                <span *ngIf="selectedProduct?.details?.outlet; else outlet"
                  >Outlet: {{ selectedProduct?.details?.outlet }}</span
                >
                <ng-template #inlet>
                  <span>Inlet: NA; </span>&nbsp;&nbsp;
                </ng-template>
                <ng-template #outlet>
                  <span>Outlet: NA</span>
                </ng-template>
              </p>
            </ng-container>

            <p *ngIf="toggleDieselEngine">
              V-Drive & Centrifugal Clutch included
            </p>
          </div>
          <div class="product-row" *ngIf="toggleDetails">
            <div class="prod-title">Quantity</div>

            <div class="prod-specification">
              <div class="number">
                <span
                  class="minus"
                  (click)="decrementQuantity()"
                  [ngStyle]="{
                    'pointer-events': quantityValue <= 1 ? 'none' : 'auto'
                  }"
                  >-</span
                >
                <input type="text" [(value)]="quantityValue" />
                <span class="plus" (click)="incrementQuantity()">+</span>
              </div>
            </div>
          </div>

          <div class="product-row" *ngIf="toggleDetails">
            <div class="prod-title">
              Warranty <span>* Refer the policy</span>
            </div>

            <div class="volt-box" style="cursor: pointer">
              <span
                [ngClass]="
                  standardWarranty?.duration === eachWarranty?.duration
                    ? 'active-volt'
                    : ''
                "
                *ngFor="let eachWarranty of warranty; let warrantyCount = index"
                (click)="changeProductWarranty(warrantyCount)"
                >{{ eachWarranty?.duration }}
                <p *ngIf="eachWarranty?.price == 0; else ElseBlock">
                  {{ defaultSelectedProductPrice | currency }}
                </p>
                <ng-template #ElseBlock>
                  <p>{{ eachWarranty?.price | currency }}</p>
                </ng-template>
              </span>
            </div>
          </div>

          <div class="product-row" *ngIf="toggleDetails">
            <div class="prod-title">Price</div>

            <div class="volt-box">
              <h3>
                ${{ selectedProduct?.details?.price }}
                <small style="color: #bc8129; font-size: 15px"
                  >(plus GST@10%)</small
                >
              </h3>
            </div>
          </div>

          <div class="product-row" *ngIf="toggleDetails">
            <div *ngIf="accessories.length > 0" class="prod-title">
              <span class="suggested">Suggested Accessories</span>
              <!-- <span>* Uncheck if not reqd.</span> -->
            </div>

            <div
              class="product-row-inner"
              *ngIf="accessories.length; else Accessories"
            >
              <span style="color: #bc8129"
                >* Included by default. Please unselect if not required</span
              >
              <div
                class="progress-row"
                *ngFor="
                  let eachAccessory of accessories;
                  let accessoryCount = index
                "
              >
                <div class="left-progress">
                  <div class="progress-pic" style="margin: 0">
                    <img [src]="eachAccessory?.imgSrc" />
                  </div>
                </div>
                <div
                  class="right-progress"
                >
                  <div class="top-progress">
                    <strong>{{ eachAccessory?.productName }} </strong>
                    <h3 class="accessoryPrice">
                      ${{ eachAccessory?.productPrice
                      }}<input
                        type="checkbox"
                        class="largerCheckbox"
                        id="check-${accessoryCount}"
                        [checked]="true"
                        (click)="toggleAccessories($event, accessoryCount)"
                      />
                    </h3>
                  </div>
                  <div class="mid-progress">
                    <p>{{ eachAccessory?.productDesc }}</p>
                  </div>
                </div>
              </div>
            </div>
            <ng-template #Accessories>
              <div class="progress-row">{{ emptyAccMsg }}</div>
            </ng-template>
          </div>

          <div class="product-row" *ngIf="toggleDetails">
            <div class="prod-title spaceTop">
              <span class="suggested">Consumable Spares (Optional):</span>
            </div>

            <div class="product-row-inner">
              <div class="promo-text" style="color: #bc8129">
                * Buy spares with pump for a special 10% discount
              </div>
              <ng-container *ngIf="spares.length; else Spare">
                <div
                  class="progress-row"
                  *ngFor="let eachSpare of spares; let spareCount = index"
                >
                  <div class="left-progress">
                    <div class="progress-pic">
                      <img [src]="eachSpare?.imgSrc" />
                    </div>
                  </div>
                  <div class="right-progress spare-section">
                    <div class="top-progress">
                      <strong>{{ eachSpare?.productName }} </strong>
                      <div class="number">
                        <span
                          class="minus"
                          (click)="consumptionSpareDecrement(spareCount)"
                          [ngStyle]="{
                            'pointer-events':
                              eachSpare?.spareQuantity <= 0 ? 'none' : 'auto'
                          }"
                          >-</span
                        >
                        <input
                          type="text"
                          [value]="eachSpare?.spareQuantity"
                          appNumOnly
                          disabled
                        />
                        <span
                          class="plus"
                          (click)="consumptionSpareIncrement(spareCount)"
                          >+</span
                        >
                      </div>
                      <div class="price-progress">
                        <h3
                          style="
                            text-decoration-line: line-through;
                            text-decoration-color: rgba(0, 0, 0, 0.4);
                          "
                        >
                          {{ eachSpare?.productPrice | currency }}
                        </h3>
                        <h3 style="color: red">
                          {{ eachSpare?.discountPrice | currency }}
                        </h3>
                      </div>
                    </div>
                    <div class="mid-progress">
                      <p>{{ eachSpare?.productDesc }}</p>
                    </div>
                  </div>
                </div>
              </ng-container>
              <ng-template #Spare>
                <div class="progress-row">{{ emptySpareMsg }}</div>
              </ng-template>

              <div class="product-total">
                <div class="total-row">
                  <span>Sub Total</span>
                  <strong>{{ grandTotal | currency }}</strong>
                </div>

                <div class="total-row">
                  <span>Shipping & Handling @5%</span>
                  <strong>{{ shippingCharges | currency }}</strong>
                </div>

                <div class="total-row grand-total">
                  <div class="productAmount">
                    <span>Total</span>
                    <span class="final-price">{{ finalPrice | currency }}</span>
                  </div>
                  <div class="productAmount">
                    <span>GST @10%</span>
                    <span class="final-price">{{ gstPrice | currency }}</span>
                  </div>
                  <div class="productAmount">
                    <span>Total Amount<br/>(In AUD)</span>
                    <span class="final-price">{{
                      finalPrice + gstPrice | currency
                    }}</span>
                  </div>
                </div>

                <div class="add-to-cart">
                  <button class="cart-btn black-btn">
                    <a href="javascript:void(0)" (click)="addToCart()"
                      >Add To Cart</a
                    >
                  </button>
                  <button class="buy-btn">
                    <a href="javascript:void(0)" (click)="buyNow()">Buy Now</a>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <div class="warranty-section">
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
